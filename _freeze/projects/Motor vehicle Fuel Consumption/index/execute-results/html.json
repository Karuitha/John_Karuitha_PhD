{
  "hash": "27c928e946ab731bab604e1d389ac51f",
  "result": {
    "markdown": "---\ntitle: \"Analyzing Motor Vehicle Fuel Consumption using R\"\nauthor: \"John Karuitha\"\ndate: \"2023-01-27\"\ncategories: [R, code, analysis]\nimage: \"fuel.png\"\n---\n\n\nThis post is a visualization of motor vehicle fuel consumption using R and ggplot2. The analysis shows that Japanese vehicles have significantly lower fuel consumption. Is this the reason Japanese cars rule the roads all over the world?\n\nI start by loading the packages required for the analysis. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(pacman)) {\n        install.packages(\"pacman\")\n        library(pacman)\n}\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: pacman\n```\n:::\n\n```{.r .cell-code}\npacman::p_load(tidyverse, Amelia)\n```\n:::\n\n\nNext, I lad and examine the data for missing values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"mpg\")\n\n## Glimpse the data ----\nglimpse(mpg)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 234\nColumns: 11\n$ manufacturer <chr> \"audi\", \"audi\", \"audi\", \"audi\", \"audi\", \"audi\", \"audi\", \"…\n$ model        <chr> \"a4\", \"a4\", \"a4\", \"a4\", \"a4\", \"a4\", \"a4\", \"a4 quattro\", \"…\n$ displ        <dbl> 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0, 2.…\n$ year         <int> 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, 200…\n$ cyl          <int> 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, 8, …\n$ trans        <chr> \"auto(l5)\", \"manual(m5)\", \"manual(m6)\", \"auto(av)\", \"auto…\n$ drv          <chr> \"f\", \"f\", \"f\", \"f\", \"f\", \"f\", \"f\", \"4\", \"4\", \"4\", \"4\", \"4…\n$ cty          <int> 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17, 1…\n$ hwy          <int> 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25, 2…\n$ fl           <chr> \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p…\n$ class        <chr> \"compact\", \"compact\", \"compact\", \"compact\", \"compact\", \"c…\n```\n:::\n\n```{.r .cell-code}\n## Missing data\nAmelia::missmap(mpg)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Unknown or uninitialised column: `arguments`.\nUnknown or uninitialised column: `arguments`.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Unknown or uninitialised column: `imputations`.\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nIn this section, I check the correlation between highway fuel consumption vs city fuel consumption. It turns out that there is a high correlation. Thus, there is no trade-off. No vehicle that consumes more in the highway will consume less in the city. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n## There is high correlation between highway and city fuel consumption. Again, vehicles with more cylinders generally consume more fuel per mile/ kilometer.\n\nmpg %>% ggplot(mapping = aes(\n        x = cty, y = hwy,\n        size = cyl, color = manufacturer\n)) +\n        geom_point() +\n        theme_classic() +\n        theme(axis.line = element_blank()) + \n    labs(x = \"City\", y = \"Highway\",\n         title = \"Correlation Between City and Highway Fuel Consuption by Vehicle Model\",\n         subtitle = \"There is a high correlation between city and highway fuel consumption.\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nFinally, I visualize the fuel economy of the cars by manufacturer. It is clear from the visual that cars made in Japan are more fuel efficient. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Japanese cars are very fuel efficient. \nmpg %>%\n        ggplot(mapping = aes(\n                x = fct_reorder(manufacturer, cty, median),\n                y = cty\n        )) +\n        geom_boxplot(aes(fill = manufacturer %in% c(\"toyota\", \"nissan\", \"subaru\", \"honda\")),\n                show.legend = FALSE\n        ) +\n        geom_point(shape = \".\") +\n        artyfarty::theme_ft() +\n        theme(axis.line = element_blank()\n              ) +\n        labs(\n                x = NULL, y = NULL, \n                title = \"City Fuel Consumption by Vehicle Make\",\n                subtitle = \"Cars made in Japan are More Fuel Efficient\"\n        ) +\n        scale_fill_manual(values = c(\"gray 80\", \"black\")) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}